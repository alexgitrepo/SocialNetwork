(this.webpackJsonpreactsn=this.webpackJsonpreactsn||[]).push([[0],{127:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(26),r=a(7),o={dialogsData:[{id:1,name:"Alex"},{id:2,name:"Van'ka"},{id:3,name:"MexaJIbI4"},{id:4,name:"OJIEr"},{id:5,name:"BacbKA"}],messageData:[{id:1,message:"HI MAN"},{id:2,message:"How are You??"},{id:3,message:"I am fine Thanks"}]},s=function(e){return{type:"dialogs/ADD_MESSAGE",formData:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if("dialogs/ADD_MESSAGE"===t.type){var a={id:4,message:t.formData.message};return Object(r.a)({},e,{messageData:[].concat(Object(n.a)(e.messageData),[a])})}return e}},133:function(e,t,a){e.exports=a.p+"static/media/user.99219baa.png"},134:function(e,t,a){e.exports=a.p+"static/media/index.infinity-rotate-cycle-loader.13cbb991.svg"},136:function(e,t,a){e.exports={header:"Header_header__1YROe"}},163:function(e,t,a){e.exports=a(291)},165:function(e,t,a){},169:function(e,t,a){},21:function(e,t,a){e.exports={formControl:"FormsControl_formControl__2qJ6i",error:"FormsControl_error__3FktX",summaryError:"FormsControl_summaryError__3AKe9",captcha:"FormsControl_captcha__iQVsK",loginWrapper:"FormsControl_loginWrapper__3LASl",login:"FormsControl_login__14Msu"}},25:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){return e?void 0:"field is required"},r=function(e){return function(t){if(t.length>e)return"max length is ".concat(e)}}},291:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=(a(165),a(63)),s=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(29),i=a(30),l=a(33),u=a(31),m=a(34),p=(a(169),a(37)),f=a.n(p),d=a(13),g=function(){return r.a.createElement("nav",{className:f.a.mainNav},r.a.createElement("div",null,r.a.createElement(d.b,{activeClassName:f.a.active,to:"/profile"},"Profile")),r.a.createElement("div",null,r.a.createElement(d.b,{activeClassName:f.a.active,to:"/messages"},"Messages")),r.a.createElement("div",null,r.a.createElement(d.b,{activeClassName:f.a.active,to:"/news"},"News")),r.a.createElement("div",null,r.a.createElement(d.b,{activeClassName:f.a.active,to:"/music"},"Music")),r.a.createElement("div",null,r.a.createElement(d.b,{activeClassName:f.a.active,to:"/settings"},"Settings")),r.a.createElement("div",null,r.a.createElement(d.b,{activeClassName:f.a.active,to:"/users"},"Users")))},E=a(36),h=a(90),b=a.n(h),v=function(){return r.a.createElement("main",{className:b.a.mainContent},r.a.createElement("div",{className:b.a.mainContentWrapper},"News"))},_=a(91),P=a.n(_),O=function(){return r.a.createElement("main",{className:P.a.mainContent},r.a.createElement("div",{className:P.a.mainContentWrapper},"Music"))},C=a(92),S=a.n(C),w=function(){return r.a.createElement("main",{className:S.a.mainContent},r.a.createElement("div",{className:S.a.mainContentWrapper},"Settings"))},U=a(11),j=a(10),I=a.n(j),N=a(26),y=a(7),k=a(132).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"2e11e55a-6317-486e-b332-4118c5f8bf85"}}),A={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return k.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return k.post("follow/".concat(e))},unfollow:function(e){return k.delete("follow/".concat(e))},getProfile:function(e){return L.getProfile(e)}},F=function(){return k.get("auth/me")},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return k.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},D=function(){return k.delete("auth/login")},T=function(){return k.get("security/get-captcha-url")},L={getProfile:function(e){return k.get("profile/".concat(e))},getStatus:function(e){return k.get("profile/status/".concat(e))},updateStatus:function(e){return k.put("profile/status",{status:e})},changeProfileData:function(e){return k.put("profile",e)},savePhoto:function(e){var t=new FormData;return t.append("image",e),k.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},M=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(y.a)({},e,{},n):e}))},R="users/FOLLOW",z={users:[],totalUsers:0,currentPage:1,pageSize:10,isFetching:!1,isFollowingInProcess:!1,isFollowingInProcessUsers:[]},W=function(e){return{type:R,userId:e}},G=function(e){return{type:"users/UNFOLLOW",userId:e}},H=function(e){return{type:"users/IS_FOLLOWING_IN_PROCESS",userId:e}},J=function(e,t,a,n){return I.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t(H(e)),r.next=3,I.a.awrap(a(e));case 3:0===r.sent.data.resultCode&&(t(n(e)),t(H(e)));case 5:case"end":return r.stop()}}))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(y.a)({},e,{users:M(e.users,t.userId,"id",{followed:!0})});case"users/UNFOLLOW":return Object(y.a)({},e,{users:M(e.users,t.userId,"id",{followed:!1})});case"users/SET_USERS":return Object(y.a)({},e,{users:Object(N.a)(t.users)});case"users/SET_TOTAL_USERS":return Object(y.a)({},e,{totalUsers:t.count});case"users/SET_CURRENT_PAGE":return Object(y.a)({},e,{currentPage:t.page});case"users/IS_FETCHING_CHANGE":var a=!e.isFetching;return Object(y.a)({},e,{isFetching:a});case"users/IS_FOLLOWING_IN_PROCESS":return e.isFollowingInProcessUsers.some((function(e){return e===t.userId}))?Object(y.a)({},e,{isFollowingInProcessUsers:[e.isFollowingInProcessUsers.filter((function(e){return e!==t.userId}))]}):Object(y.a)({},e,{isFollowingInProcessUsers:[].concat(Object(N.a)(e.isFollowingInProcessUsers),[t.userId])})}return e},V=a(133),K=a.n(V),X=a(68),Y=a.n(X),q=function(e){return r.a.createElement("div",{className:Y.a.user},r.a.createElement("div",{className:Y.a.user__name},e.name),r.a.createElement("div",null,r.a.createElement(d.b,{to:"/profile/"+e.userId},r.a.createElement("img",{src:null===e.img.small?K.a:e.img.small,className:Y.a.userPhoto,alt:"\u0422\u0443\u0442 \u0430\u0432\u0430 \u0431\u0443\u0434\u0435\u0442"}))),r.a.createElement("div",null,!0===e.isFollowed?r.a.createElement("button",{disabled:e.isFollowingInProcessUsers.some((function(t){return t==e.userId})),onClick:function(){e.unfollowUser(e.userId)}},"UnFollow"):r.a.createElement("button",{disabled:e.isFollowingInProcessUsers.some((function(t){return t==e.userId})),onClick:function(){e.followUser(e.userId)}},"follow")))},Q=a(40),Z=a(94),$=a.n(Z),ee=function(e){for(var t=e.totalItemsCount,a=e.currentPage,o=e.pageSize,s=e.onPageChange,c=e.portionSize,i=void 0===c?10:c,l=[],u=Object(n.useState)(1),m=Object(Q.a)(u,2),p=m[0],f=m[1],d=Math.ceil(t/o),g=1;g<=d;g++)l.push(g);var E=d/i,h=p*o,b=(p-1)*o+1;return r.a.createElement("div",{className:$.a.paginator},p>1&&r.a.createElement("button",{onClick:function(){f(p-1)}},"PREV"),l.filter((function(e){return e<=h&&e>=b})).map((function(e){return r.a.createElement("button",{className:e===a?$.a.active:"",onClick:function(){s(e,o)}},e)})),E>p&&r.a.createElement("button",{onClick:function(){f(p+1)}},"Next"))},te=function(e){var t=e.usersPage.users.map((function(t){return r.a.createElement(q,{key:t.id,name:t.name,lookingForAjob:t.lookingForAJob,userId:t.id,isFollowed:t.followed,img:t.photos,followCallback:e.followCallback,unfollowCallback:e.unfollowCallback,isFollowingInProcessUsers:e.isFollowingInProcessUsers,followUser:e.followUser,unfollowUser:e.unfollowUser})}));return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ee,{totalItemsCount:e.totalUsersCount,currentPage:e.currentPage,pageSize:e.pageSize,onPageChange:e.onPageChange})),r.a.createElement("div",null,t))},ae=a(134),ne=a.n(ae),re=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:ne.a,alt:""}))},oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getNewUsers=function(e){a.props.onPageChange(e,a.props.usersPage.pageSize)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.onPageChange(this.props.usersPage.currentPage,this.props.usersPage.pageSize)}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.usersPage.isFetching?r.a.createElement(re,null):null,r.a.createElement(te,{getNewUsers:this.getNewUsers,usersPage:this.props.usersPage,isFollowingInProcessUsers:this.props.usersPage.isFollowingInProcessUsers,followUser:this.props.followUser,unfollowUser:this.props.unfollowUser,onPageChange:this.props.onPageChange,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize}))}}]),t}(r.a.Component),se=Object(U.b)((function(e){return{usersPage:e.UsersPage,totalUsersCount:e.UsersPage.totalUsers,currentPage:e.UsersPage.currentPage,pageSize:e.UsersPage.pageSize}}),{onPageChange:function(e,t){return function(a){var n;return I.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"users/IS_FETCHING_CHANGE"}),r.next=3,I.a.awrap(A.getUsers(e,t));case 3:(n=r.sent)&&(a({type:"users/SET_USERS",users:n.data.items}),a({type:"users/SET_TOTAL_USERS",count:n.data.totalCount}),a({type:"users/SET_CURRENT_PAGE",page:e}),a({type:"users/IS_FETCHING_CHANGE"}));case 5:case"end":return r.stop()}}))}},followUser:function(e){return function(t){var a;return I.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=A.follow.bind(A),J(e,t,a,W);case 2:case"end":return n.stop()}}))}},unfollowUser:function(e){return function(t){var a;return I.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=A.unfollow.bind(A),J(e,t,a,G);case 2:case"end":return n.stop()}}))}}})(oe),ce=a(43),ie=a.n(ce),le=a(69),ue=a.n(le),me=function(e){Object(n.useEffect)((function(){u(e.status)}),[e.status]);var t=Object(n.useState)(!1),a=Object(Q.a)(t,2),o=a[0],s=a[1],c=Object(n.useState)(e.status),i=Object(Q.a)(c,2),l=i[0],u=i[1];return o?r.a.createElement("input",{onChange:function(e){var t=e.target.value;u(t)},value:l,autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(l)},type:"text"}):r.a.createElement("div",null," ",r.a.createElement("span",null,r.a.createElement("b",null,"Status"),": ")," ",r.a.createElement("span",{onDoubleClick:e.isOwner?function(){s(!0)}:null},e.status?e.status:"------"))},pe=a(128),fe=a(9),de=Object(pe.a)({form:"ProfileChangeForm"})((function(e){var t=e.currentProfile,a=e.handleSubmit,n=e.error;return r.a.createElement("form",{onSubmit:a},r.a.createElement("button",null," Add changes"),n&&r.a.createElement("div",{className:ie.a.error},n),r.a.createElement("div",null,r.a.createElement("b",null,"fullName"),":",Object(fe.c)([],fe.a,"fullName","input","Enter your name")),r.a.createElement("div",null,r.a.createElement("b",null,"aboutMe"),":",Object(fe.c)([],fe.b,"aboutMe","textarea","Enter some info about you")),r.a.createElement("div",null,r.a.createElement("b",null,"lookingForAJob"),":",Object(fe.c)([],"input","lookingForAJob","checkbox","")),r.a.createElement("div",null,r.a.createElement("b",null,"LookingForAJobDescription:"),":",Object(fe.c)([],fe.b,"lookingForAJobDescription","textarea","Enter your skills")),Object.keys(t.contacts).map((function(e){return r.a.createElement("div",null,e,": ",Object(fe.c)([],"Input","contacts."+e,"input","")," ")})))})),ge=function(e){var t=e.platform,a=e.platformLink;return r.a.createElement("div",null,r.a.createElement("b",null,t),":",a)},Ee=function(e){var t=e.currentProfile,a=e.isOwner,o=e.changeProfile,s=Object.keys(t.contacts).map((function(e){return r.a.createElement(ge,{platform:e,platformLink:t.contacts[e]})})),c=Object(n.useState)(!1),i=Object(Q.a)(c,2),l=i[0],u=i[1];return r.a.createElement("div",{className:ie.a.profileCurrentData},a&&l&&r.a.createElement(de,{onSubmit:function(e){var a=o(e,t.userId);a.then((function(){u(!1)})),a.catch((function(){u(!0)}))},initialValues:t,currentProfile:t}),a&&!l&&r.a.createElement("button",{onClick:function(){u(!0)}},"Change Profile"),!l&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"fullName"),": ",t.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"aboutMe"),": ",t.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"lookingForAJob"),": ",t.lookingForAJob?"yes":"no"),r.a.createElement("div",null,r.a.createElement("b",null,"lookingForAJobDescription"),": ",t.lookingForAJobDescription?t.lookingForAJobDescription:"---"),r.a.createElement("div",null,r.a.createElement("p",null,"Contacts:"),s)))},he=function(e){return e.profilePage.currentUser?r.a.createElement("div",null,r.a.createElement("div",{className:ue.a.descriptionBlock},r.a.createElement("img",{className:ue.a.ava,src:e.profilePage.currentUser.photos.large}),r.a.createElement("div",null,e.isOwner&&r.a.createElement("input",{onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},type:"file"})),r.a.createElement("div",{className:ue.a.profileStatus},r.a.createElement(me,{isOwner:e.isOwner,updateStatus:e.updateStatus,status:e.profilePage.status})),r.a.createElement(Ee,{changeProfile:e.changeProfile,currentProfile:e.profilePage.currentUser,isOwner:e.isOwner}))):r.a.createElement(re,null)},be=a(54),ve=a(71),_e=a.n(ve),Pe=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:_e.a.post},r.a.createElement("img",{className:_e.a.postAva,src:"https://steamuserimages-a.akamaihd.net/ugc/924800625816030205/F497B26EA6F8D66D8A2BC9FBAD413259318EAEB5/?imw=512&imh=512&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=true",alt:""}),e.message,r.a.createElement("div",null,r.a.createElement("span",{className:_e.a.like},"likes ",e.count))))},Oe=a(88),Ce=a(20),Se=a(25),we=r.a.memo((function(e){var t=e.addPostCallback,a=Object(be.a)(e,["addPostCallback"]).profilePage.myPostsData.map((function(e,t){return r.a.createElement(Pe,{key:t,message:e.message,count:e.count})}));return r.a.createElement("div",null,r.a.createElement("div",null,"My Posts"),r.a.createElement("div",null,r.a.createElement(je,{onSubmit:function(e){t(e)}}),a))})),Ue=Object(Se.a)(10),je=Object(pe.a)({form:"addPost",onSubmitSuccess:function(e,t){return t(Object(Ce.a)("addPost"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(Oe.a,{validate:[Se.b,Ue],component:fe.b,name:"post",placeholder:"Add post"}),r.a.createElement("div",null,r.a.createElement("button",null,"Add Post")))})),Ie=we,Ne="profile/ADD_POST",ye={myPostsData:[{id:1,message:"HI man. Give me your bag",count:"10"},{id:2,message:"What did you say?!",count:"20"},{id:3,message:"Mm. Goodbye",count:"0"}],currentUser:null,status:"S"},ke=function(e){return{type:"profile/SET_STATUS",status:e}},Ae=function(e){return function(t){A.getProfile(e).then((function(e){t({type:"profile/SET_CURRENT_USER",currentUser:e.data})}))}},Fe=function(e){return{type:"profile/SAVE_PHOTO_SUCCESS",photos:e}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;if(t.type===Ne){var a={id:4,message:t.formData.post,count:"20"};return Object(y.a)({},e,{myPostsData:[].concat(Object(N.a)(e.myPostsData),[a])})}return"profile/SET_CURRENT_USER"===t.type?Object(y.a)({},e,{currentUser:t.currentUser}):"profile/DELETE_POST"===t.type?Object(y.a)({},e,{myPostsData:e.myPostsData.filter((function(e){return e.id!==t.id}))}):"profile/SET_STATUS"===t.type?Object(y.a)({},e,{status:t.status}):"profile/SAVE_PHOTO_SUCCESS"===t.type?Object(y.a)({},e,{currentUser:Object(y.a)({},e.currentUser,{photos:t.photos})}):e},De=Object(U.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPostCallback:function(t){e(function(e){return{type:Ne,formData:e}}(t))}}}))(Ie),Te=function(e){return r.a.createElement("main",{className:ie.a.mainContent},r.a.createElement(he,{savePhoto:e.savePhoto,changeProfile:e.changeProfile,isOwner:e.isOwner,updateStatus:e.updateStatus,profilePage:e.profilePage}),e.isOwner&&r.a.createElement(De,null))},Le=a(8),Me=function(e){return e.profilePage},Re=function(e){return e.auth.userInfo.isLogin},ze=function(e){return e.auth.userInfo.id},We=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||this.props.isAuth&&(e=this.props.currentUserId),this.props.setCurrentUser(e),this.props.getStatus(e)}},{key:"componentDidUpdate",value:function(e,t){var a;this.props.match.params.userId!==e.match.params.userId&&this.props.isAuth&&(a=this.props.currentUserId,this.props.setCurrentUser(a),this.props.getStatus(a))}},{key:"render",value:function(){return this.props.isAuth||this.props.match.params.userId?r.a.createElement(Te,{savePhoto:this.props.savePhoto,changeProfile:this.props.changeProfile,updateStatus:this.props.updateStatus,profilePage:this.props.profilePage,isOwner:!this.props.match.params.userId}):r.a.createElement(E.a,{to:"/login"})}}]),t}(r.a.Component),Ge=Object(Le.d)(Object(U.b)((function(e){return{profilePage:Me(e),isAuth:Re(e),currentUserId:ze(e)}}),{changeProfile:function(e,t){return function(a){var n,r,o;return I.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,I.a.awrap(L.changeProfileData(e));case 2:if(0===(n=s.sent).data.resultCode&&a(Ae(t)),0===n.data.resultCode){s.next=9;break}return r=n.data.messages.length>0?n.data.messages[0]:"some error",o=Object(Ce.b)("ProfileChangeForm",{_error:r}),a(o),s.abrupt("return",Promise.reject());case 9:case"end":return s.stop()}}))}},setCurrentUser:Ae,getStatus:function(e){return function(t){L.getStatus(e).then((function(e){t(ke(e.data))}))}},updateStatus:function(e){return function(t){L.updateStatus(e).then((function(a){0===a.data.resultCode&&t(ke(e))}))}},savePhoto:function(e){return function(t){var a;return I.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.a.awrap(L.savePhoto(e));case 2:0===(a=n.sent).data.resultCode&&t(Fe(a.data.data.photos));case 4:case"end":return n.stop()}}))}}}),E.f)(We),He=a(136),Je=a.n(He),Be=function(e){return r.a.createElement("header",{className:Je.a.header},r.a.createElement("img",{src:"https://i.pinimg.com/736x/81/77/e3/8177e3c0b884d55744270ff1ba02e3d6--funny-shit-adult-humor.jpg",alt:""}),e.auth.isLogin?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.auth.login),r.a.createElement("button",{onClick:function(){e.logout()}},"Logout")):r.a.createElement(d.b,{to:"/login"}," LOGIN "))},Ve={userInfo:{id:null,login:null,email:null,isLogin:!1},captchaUrl:""},Ke=function(e,t,a,n){return{type:"auth/AUTH_USER",email:e,id:t,login:a,isLogin:n}},Xe=function(e){return{type:"auth/SET_CAPTCHA_URL",url:e}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;return"auth/AUTH_USER"===t.type?Object(y.a)({},e,{userInfo:Object(y.a)({},t.userInfo,{id:t.id,login:t.login,email:t.email,isLogin:t.isLogin})}):"auth/SET_CAPTCHA_URL"===t.type?Object(y.a)({},e,{captchaUrl:t.url}):e},qe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{logout:this.props.logout,auth:this.props.auth}))}}]),t}(r.a.Component),Qe=Object(U.b)((function(e){return{auth:e.auth.userInfo}}),(function(e){return{logout:function(){e((function(e){return I.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.awrap(D());case 2:0===t.sent.data.resultCode&&e(Ke(null,null,null,!1));case 4:case"end":return t.stop()}}))}))}}}))(qe),Ze=a(21),$e=a.n(Ze),et=Object(pe.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:$e.a.registrationForm},Object(fe.c)([Se.b],fe.a,"email","input","email"),Object(fe.c)([Se.b],fe.a,"password","password","password"),Object(fe.c)([],"input","rememberMe","checkbox","","remember me"),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement("p",null,"Enter captcha"),Object(fe.c)([Se.b],fe.a,"captcha","input","captcha"),r.a.createElement("img",{className:$e.a.captcha,src:e.captchaUrl})),r.a.createElement("button",null,"Login"),e.error&&r.a.createElement("div",{className:$e.a.summaryError},e.error))})),tt=Object(U.b)((function(e){return{isAuth:e.auth.userInfo.isLogin,captchaUrl:e.auth.captchaUrl}}),{sendLoginDataRequest:function(e,t,a,n){return function(r){var o,s,c,i,l,u,m,p,f,d,g;return I.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,I.a.awrap(x(e,t,a,n));case 2:if(0!==(o=E.sent).data.resultCode){E.next=9;break}return E.next=6,I.a.awrap(F());case 6:0===(s=E.sent).data.resultCode&&(c=s.data.data,i=c.email,l=c.id,u=c.login,r(Ke(i,l,u,!0)),r(Xe("")));case 9:if(10!==o.data.resultCode){E.next=16;break}return E.next=12,I.a.awrap(T());case 12:(m=E.sent)&&(r(Xe(m.data.url)),p=o.data.messages.length>0?o.data.messages[0]:"some error",f=Object(Ce.b)("login",{_error:p}),r(f)),E.next=19;break;case 16:d=o.data.messages.length>0?o.data.messages[0]:"some error",g=Object(Ce.b)("login",{_error:d}),r(g);case 19:case"end":return E.stop()}}))}}})((function(e){return e.isAuth?r.a.createElement(E.a,{to:"/profile"}):r.a.createElement("div",{className:$e.a.loginWrapper},r.a.createElement("div",{className:$e.a.login},r.a.createElement("h3",null,"LOGIN"),r.a.createElement("p",null,"Credentials for testing"),r.a.createElement("p",null,"Email: free@samuraijs.com"),r.a.createElement("p",null,"Password: free"),r.a.createElement(et,{captchaUrl:e.captchaUrl,onSubmit:function(t){var a=t.email,n=t.password,r=t.rememberMe,o=t.captcha;e.sendLoginDataRequest(a,n,r,o)}})))})),at={initialized:!1},nt=function(){return function(e){e((function(e){return F().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.email,r=a.id,o=a.login;e(Ke(n,r,o,!0))}}))})).then((function(){e({type:"app/INITIALIZED_SUCCESS"})}))}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;return"app/INITIALIZED_SUCCESS"===t.type?Object(y.a)({},e,{initialized:!0}):e},ot=a(127),st=a(137),ct=a(129),it=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Le.d,lt=Object(Le.c)({profilePage:xe,dialogsPage:ot.b,UsersPage:B,auth:Ye,form:ct.a,app:rt}),ut=Object(Le.e)(lt,it(Object(Le.a)(st.a))),mt=ut;window.store=ut;var pt,ft=r.a.lazy((function(){return a.e(3).then(a.bind(null,295))})),dt=(pt=ft,function(e){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,r.a.createElement(re,null))},r.a.createElement(pt,e))}),gt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.isInitiolized?r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"grid-wrapper"},r.a.createElement(Qe,null),r.a.createElement(g,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{render:function(){return r.a.createElement(Ge,null)},path:"/profile/:userId?"})),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{render:function(){return r.a.createElement(dt,null)},path:"/messages"})),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{render:function(){return r.a.createElement(se,null)},path:"/users"})),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{component:v,path:"/news"})),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{component:O,path:"/music"})),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{component:w,path:"/settings"})),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{render:function(){return r.a.createElement(tt,null)},path:"/login"})),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.b,{render:function(){return r.a.createElement(Ge,null)},path:"/",exact:!0})))):r.a.createElement(re,null)}}]),t}(r.a.Component),Et=Object(Le.d)(E.f,Object(U.b)((function(e){return{isInitiolized:e.app.initialized}}),(function(e){return{initializeApp:function(){e(nt())}}})))(gt),ht=function(e){return r.a.createElement(d.a,{basename:"/SocialNetwork"},r.a.createElement(U.a,{store:mt},r.a.createElement(Et,null)))};s.a.render(r.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},37:function(e,t,a){e.exports={mainNav:"MainNav_mainNav__3vQSF",active:"MainNav_active__1Uurs"}},43:function(e,t,a){e.exports={mainContent:"Profile_mainContent__3VFCJ",mainImage:"Profile_mainImage__3sZYG",profileCurrentData:"Profile_profileCurrentData__3uBlf",error:"Profile_error__2147e"}},68:function(e,t,a){e.exports={userPhoto:"User_userPhoto__3TbP7",user:"User_user__2WYEu",user__name:"User_user__name__1cDKS"}},69:function(e,t,a){e.exports={mainContent:"Profile_mainContent__UXnhS",mainImage:"Profile_mainImage__11nku",ava:"Profile_ava___vhV3",profileStatus:"Profile_profileStatus__2cl2K"}},71:function(e,t,a){e.exports={postAva:"Post_postAva__2zicR",post:"Post_post__M3FuW",like:"Post_like__1EIQQ"}},9:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return f}));var n=a(26),r=a(54),o=a(0),s=a.n(o),c=a(21),i=a.n(c),l=a(88),u=a(25),m=function(e){var t=e.input,a=e.meta,n=Object(r.a)(e,["input","meta"]),o=a.touched&&a.error;return s.a.createElement("div",{className:i.a.formControl+" "+(o?i.a.error:"")},s.a.createElement("div",null,s.a.createElement("textarea",Object.assign({},t,n))),s.a.createElement("div",null,o&&s.a.createElement("span",null,a.error)))},p=function(e){var t=e.input,a=e.meta,n=a.touched,o=a.error,c=Object(r.a)(e,["input","meta"]),l=n&&o;return s.a.createElement("div",{className:i.a.formControl+" "+(l?i.a.error:"")},s.a.createElement("div",null,s.a.createElement("input",Object.assign({},t,c))),s.a.createElement("div",null,l&&s.a.createElement("span",null,o)))},f=function(e,t,a,r,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return s.a.createElement("div",null,s.a.createElement(l.a,{validate:Object(n.a)(e),component:t,name:a,type:r,placeholder:o}),c)};f([u.b],p,"email","input")},90:function(e,t,a){},91:function(e,t,a){e.exports={mainContentWrapper:"Music_mainContentWrapper__3ubGh"}},92:function(e,t,a){e.exports={mainContentWrapper:"Settings_mainContentWrapper__f3HM-"}},94:function(e,t,a){e.exports={paginator:"Paginator_paginator__1rZiX",active:"Paginator_active__3ADaX"}}},[[163,1,2]]]);
//# sourceMappingURL=main.36af70d5.chunk.js.map